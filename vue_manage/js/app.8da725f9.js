(function(e){function t(t){for(var s,l,i=t[0],n=t[1],c=t[2],d=0,u=[];d<i.length;d++)l=i[d],o[l]&&u.push(o[l][0]),o[l]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);m&&m(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,i=1;i<a.length;i++){var n=a[i];0!==o[n]&&(s=!1)}s&&(r.splice(t--,1),e=l(l.s=a[0]))}return e}var s={},o={app:0},r=[];function l(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=s,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(a,s,function(t){return e[t]}.bind(null,s));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var m=n;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0b26":function(e,t,a){"use strict";var s=a("88c2"),o=a.n(s);o.a},"110c":function(e,t,a){},"140b":function(e,t,a){"use strict";var s=a("4371"),o=a.n(s);o.a},"289c":function(e,t,a){},"2c43":function(e,t,a){"use strict";var s=a("8ef2"),o=a.n(s);o.a},"301d":function(e,t,a){},3820:function(e,t,a){"use strict";var s=a("4c47"),o=a.n(s);o.a},"38f3":function(e,t,a){e.exports=a.p+"img/1.5982d147.jpg"},"3b1a":function(e,t,a){},"432a":function(e,t,a){},4371:function(e,t,a){},"4c47":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain",attrs:{id:"app"}},[a("router-view")],1)},r=[],l={},i=l,n=(a("7c55"),a("2877")),c=Object(n["a"])(i,o,r,!1,null,null,null),m=c.exports,d=a("8c4f"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manage_page fillcontain"},[a("el-row",{staticStyle:{height:"100%"}},[a("el-col",{staticStyle:{"min-height":"100%","background-color":"#324057"},attrs:{span:4}},[a("el-menu",{staticStyle:{"min-height":"100%","background-color":"#324157"},attrs:{"default-active":e.defaultActive,theme:"dark",router:""}},[a("el-menu-item",{staticClass:"is-active",attrs:{index:"manage"}},[a("i",{staticClass:"el-icon-menu"}),e._v("首页")]),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-document"}),e._v("数据管理")]),a("el-menu-item",{attrs:{index:"userList"}},[e._v("用户列表")]),a("el-menu-item",{attrs:{index:"shopList"}},[e._v("商家列表")]),a("el-menu-item",{attrs:{index:"foodList"}},[e._v("食品列表")]),a("el-menu-item",{attrs:{index:"orderList"}},[e._v("订单列表")]),a("el-menu-item",{attrs:{index:"adminList"}},[e._v("管理员列表")])],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-plus"}),e._v("添加数据")]),a("el-menu-item",{attrs:{index:"addShop"}},[e._v("添加商铺")]),a("el-menu-item",{attrs:{index:"addGoods"}},[e._v("添加商品")])],2),a("el-submenu",{attrs:{index:"4"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-star-on"}),e._v("图表")]),a("el-menu-item",{attrs:{index:"visitor"}},[e._v("用户分布")])],2),a("el-submenu",{attrs:{index:"5"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-edit"}),e._v("编辑")]),a("el-menu-item",{attrs:{index:"vueEdit"}},[e._v("文本编辑")])],2),a("el-submenu",{attrs:{index:"6"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-setting"}),e._v("设置")]),a("el-menu-item",{attrs:{index:"adminSet"}},[e._v("管理员设置")])],2),a("el-submenu",{attrs:{index:"7"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-warning"}),e._v("说明")]),a("el-menu-item",{attrs:{index:"explain"}},[e._v("说明")])],2)],1)],1),a("el-col",{staticStyle:{height:"100%",overflow:"auto"},attrs:{span:20}},[a("keep-alive",[a("router-view")],1)],1)],1)],1)},p=[],f={computed:{defaultActive:function(){return this.$route.path.replace("/","")}}},b=f,h=(a("a619"),Object(n["a"])(b,u,p,!1,null,null,null)),v=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-page",attrs:{model:e.ruleForm2,rules:e.rules2,"status-icon":"","label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"title"},[a("i",{staticClass:"el-icon-user-solid"}),e._v("\n\t\t\t\t后台管理系统\n\t\t\t")]),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"用户名"},model:{value:e.ruleForm2.username,callback:function(t){e.$set(e.ruleForm2,"username",t)},expression:"ruleForm2.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}})],1),a("el-checkbox",{staticClass:"rememberme",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)],1)},_=[],y={data(){return{logining:!1,ruleForm2:{username:"admin",password:"123456"},rules2:{username:[{required:!0,message:"please enter your account",trigger:"blur"}],password:[{required:!0,message:"enter your password",trigger:"blur"}]},checked:!1}},methods:{handleSubmit(){this.$refs.ruleForm2.validate(e=>{if(!e)return console.log("error submit!"),!1;this.logining=!0,"admin"===this.ruleForm2.username&&"123456"===this.ruleForm2.password?(this.logining=!1,sessionStorage.setItem("user",this.ruleForm2.username),this.$router.push({path:"/manage"})):(this.logining=!1,this.$alert("username or password wrong!","info",{confirmButtonText:"ok"}))})}}},x=y,w=(a("bdaa"),Object(n["a"])(x,g,_,!1,null,null,null)),C=w.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),a("section",{staticClass:"data_section"},[a("header",{staticClass:"section_title"},[e._v("数据统计")]),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list today_head"},[a("span",{staticClass:"data_num head"},[e._v("当日数据：")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list"},[a("span",{staticClass:"data_num"},[e._v(e._s(e.userCount))]),e._v(" 新增用户")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list"},[a("span",{staticClass:"data_num"},[e._v(e._s(e.orderCount))]),e._v(" 新增订单")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list"},[a("span",{staticClass:"data_num"},[e._v(e._s(e.adminCount))]),e._v(" 新增管理员")])])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list all_head"},[a("span",{staticClass:"data_num head"},[e._v("总数据：")])])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list"},[a("span",{staticClass:"data_num"},[e._v(e._s(e.allUserCount))]),e._v(" 注册用户")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list"},[a("span",{staticClass:"data_num"},[e._v(e._s(e.allOrderCount))]),e._v(" 订单")])]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"data_list"},[a("span",{staticClass:"data_num"},[e._v(e._s(e.allAdminCount))]),e._v(" 管理员")])])],1)],1),a("tendency",{attrs:{sevenDate:e.sevenDate,sevenDay:e.sevenDay}})],1)},D=[],k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header_container"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._l(e.$route.meta,function(t,a){return s("el-breadcrumb-item",{key:a},[e._v(e._s(t))])})],2),s("el-dropdown",{on:{command:e.handleCommand}},[s("img",{staticClass:"avator",attrs:{src:a("38f3")}}),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),s("el-dropdown-item",{attrs:{command:"signout"}},[e._v("退出")])],1)],1)],1)},$=[],S={methods:{handleCommand(e){"home"==e?this.$router.push("/manage"):"signout"==e&&this.$router.push("/")}}},T=S,E=(a("6c92"),Object(n["a"])(T,k,$,!1,null,null,null)),O=E.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},V=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"line1"},[a("div",{staticStyle:{width:"90%",height:"450px"},attrs:{id:"line1"}})])}],I=a("bac0"),j=a.n(I),A=(a("11af"),a("3c1d"),a("2ad9"),a("a8a5"),a("e5da"),a("3d88"),a("9aca"),{mounted(){this.myChart=j.a.init(document.getElementById("line1")),this.initData()},props:["sevenDate","sevenDay"],methods:{initData(){const e=["#5793f3","#675bba","#d14a61"],t={color:e,title:{text:"走势图",subtext:""},tooltip:{trigger:"axis"},legend:{data:["新注册用户","新增订单","新增管理员"]},toolbox:{show:!0,feature:{dataZoom:{yAxisIndex:"none"},dataView:{readOnly:!1},magicType:{type:["bar","line"]},restore:{}}},xAxis:{type:"category",boundaryGap:!1,data:this.sevenDay},yAxis:[{type:"value",name:"用户",min:0,max:200,position:"left",axisLine:{lineStyle:{color:"#999"}},axisLabel:{formatter:"{value}"}},{type:"value",name:"订单",min:0,max:200,position:"right",axisLine:{lineStyle:{color:"#999"}},axisLabel:{formatter:"{value}"}}],series:[{name:"新注册用户",type:"line",data:this.sevenDate[0],yAxisIndex:1,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}},{name:"新增订单",type:"line",data:this.sevenDate[1],yAxisIndex:1,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}},{name:"新增管理员",type:"line",data:this.sevenDate[2],yAxisIndex:1,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]};this.myChart.setOption(t)}},watch:{sevenDate:function(){this.initData()},sevenDay:function(){this.initData()}}}),q=A,P=(a("d32e"),Object(n["a"])(q,L,V,!1,null,null,null)),z=P.exports,U=(a("fcda"),{data(){return{userCount:89,orderCount:25,adminCount:126,allUserCount:33266,allOrderCount:10754,allAdminCount:46300,sevenDay:["2019-07-19","2019-07-20","2019-07-21","2019-07-22","2019-07-23","2019-07-24","2019-07-25"],sevenDate:[[25,18,13,61,41,27,36],[10,5,4,10,16,8,15],[102,59,39,106,110,64,68]]}},components:{headTop:O,tendency:z}}),B=U,G=(a("6e2a"),Object(n["a"])(B,F,D,!1,null,null,null)),M=G.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("head-top"),a("el-main",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人用户列表")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("添加")])],1),a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"username",label:"账号",width:"180"}}),a("el-table-column",{attrs:{prop:"realname",label:"用户姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"idType",label:"证件号"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleDel(t.row.id,e.tableData)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"账号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"用户姓名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.side,callback:function(t){e.$set(e.form,"side",t)},expression:"form.side"}})],1),a("el-form-item",{attrs:{label:"证件号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)])],1)],1)},R=[],J={data(){return{tableData:[{id:1,username:"admin01",realname:"王小虎",idType:"741791606"},{id:2,username:"admin02",realname:"王小虎",idType:"741791606"},{id:3,username:"admin03",realname:"王小虎",idType:"741791606"},{id:4,username:"admin04",realname:"王小虎",idType:"741791606"}],dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",side:"",introduce:""},formLabelWidth:"120px"}},components:{headTop:O},methods:{handleEdit(e){console.log("修改"+e)},handleDel(e,t){t.splice(e,1),this.$message.success("删除成功！")}}},N=J,Q=(a("9494"),Object(n["a"])(N,W,R,!1,null,"3223d376",null)),X=Q.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shopList"},[a("head-top"),a("el-main",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("商家列表")]),a("router-link",{attrs:{to:"/addShop"}},[a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("添加")])],1)],1),a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"username",label:"店铺名称",width:"180"}}),a("el-table-column",{attrs:{prop:"realname",label:"店铺地址",width:"180"}}),a("el-table-column",{attrs:{prop:"idType",label:"店铺介绍"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.handleDel(t.$index,e.tableData)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"商家",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"店铺名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"on"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"店铺地址","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.side,callback:function(t){e.$set(e.form,"side",t)},expression:"form.side"}})],1),a("el-form-item",{attrs:{label:"店铺介绍","label-width":e.formLabelWidth}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)])],1)],1)},H=[],K={data(){return{tableData:[{username:"小虎店01",realname:"上海市普陀区金沙江路 1518 弄",idType:"741791606"},{username:"小虎店02",realname:"上海市普陀区金沙江路 1518 弄",idType:"741791606"},{username:"小虎店03",realname:"上海市普陀区金沙江路 1518 弄",idType:"741791606"},{username:"小虎店04",realname:"上海市普陀区金沙江路 1518 弄",idType:"741791606"}],dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",side:"",introduce:""},formLabelWidth:"120px"}},components:{headTop:O},methods:{handleEdit(e,t){this.selectTable=t,this.address.address=t.address,this.dialogFormVisible=!0,this.selectedCategory=t.category.split("/"),this.categoryOptions.length||this.getCategory()},handleEdit(e){console.log("修改"+e)},handleDel(e,t){t.splice(e,1),this.$message.success("删除成功！")}}},Y=K,ee=(a("6e85"),Object(n["a"])(Y,Z,H,!1,null,"1570ec68",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"foodList"},[a("head-top"),a("el-main",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("食品列表")]),a("router-link",{attrs:{to:"/addGoods"}},[a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("添加")])],1)],1),a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData5}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"食品名称"}},[a("span",[e._v(e._s(t.row.name))])]),a("el-form-item",{attrs:{label:"餐馆名称"}},[a("span",[e._v(e._s(t.row.shop))])]),a("el-form-item",{attrs:{label:"食品 ID"}},[a("span",[e._v(e._s(t.row.id))])]),a("el-form-item",{attrs:{label:"餐馆 ID"}},[a("span",[e._v(e._s(t.row.shopId))])]),a("el-form-item",{attrs:{label:"食品分类"}},[a("span",[e._v(e._s(t.row.category))])]),a("el-form-item",{attrs:{label:"餐馆地址"}},[a("span",[e._v(e._s(t.row.address))])]),a("el-form-item",{attrs:{label:"食品描述"}},[a("span",[e._v(e._s(t.row.desc))])])],1)]}}])}),a("el-table-column",{attrs:{label:"商品 ID",prop:"id"}}),a("el-table-column",{attrs:{label:"商品名称",prop:"name"}}),a("el-table-column",{attrs:{label:"描述",prop:"desc"}}),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData5)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"修改食品信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"食品名称",prop:"name"}},[a("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"食品分类",prop:"region"}},[a("el-select",{attrs:{placeholder:"请选择食品类别"},model:{value:e.ruleForm.region,callback:function(t){e.$set(e.ruleForm,"region",t)},expression:"ruleForm.region"}},[a("el-option",{attrs:{label:"肉类",value:"shanghai"}}),a("el-option",{attrs:{label:"豆类",value:"beijing"}}),a("el-option",{attrs:{label:"饮品",value:"yinpin"}}),a("el-option",{attrs:{label:"水果",value:"fruit"}})],1)],1),a("el-form-item",{attrs:{label:"食品特点",prop:"type"}},[a("el-checkbox-group",{model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[a("el-checkbox",{attrs:{label:"新品",name:"type"}}),a("el-checkbox",{attrs:{label:"招牌",name:"type"}})],1)],1),a("el-form-item",{attrs:{label:"食品规格",prop:"resource"}},[a("el-radio-group",{model:{value:e.ruleForm.resource,callback:function(t){e.$set(e.ruleForm,"resource",t)},expression:"ruleForm.resource"}},[a("el-radio",{attrs:{label:"单规格"}}),a("el-radio",{attrs:{label:"多规格"}})],1)],1),a("el-form-item",{attrs:{label:"食品介绍",prop:"desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.desc,callback:function(t){e.$set(e.ruleForm,"desc",t)},expression:"ruleForm.desc"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)])],1)],1)},se=[],oe={data(){return{tableData5:[{id:"12987122",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987123",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987125",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987126",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"}],dialogTableVisible:!1,dialogFormVisible:!1,ruleForm:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},rules:{name:[{required:!0,message:"请输入食品名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择食品分类",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个食品特点",trigger:"change"}],resource:[{required:!0,message:"请选择食品规格",trigger:"change"}],desc:[{required:!0,message:"请填写食品介绍",trigger:"blur"}]},formLabelWidth:"120px"}},components:{headTop:O},methods:{handleEdit(e){console.log("修改"+e)},deleteRow(e,t){t.splice(e,1),this.$message.success("删除成功！")},submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;alert("已修改")})},resetForm(e){this.$refs[e].resetFields()}}},re=oe,le=(a("2c43"),Object(n["a"])(re,ae,se,!1,null,"ea8b9b62",null)),ie=le.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderList"},[a("head-top"),a("el-main",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("订单列表")])]),a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData5}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"用户名"}},[a("span",[e._v(e._s(t.row.name))])]),a("el-form-item",{attrs:{label:"店铺名称"}},[a("span",[e._v(e._s(t.row.shop))])]),a("el-form-item",{attrs:{label:"订单 ID"}},[a("span",[e._v(e._s(t.row.id))])]),a("el-form-item",{attrs:{label:"店铺 ID"}},[a("span",[e._v(e._s(t.row.shopId))])]),a("el-form-item",{attrs:{label:"收货地址"}},[a("span",[e._v(e._s(t.row.category))])]),a("el-form-item",{attrs:{label:"店铺地址"}},[a("span",[e._v(e._s(t.row.address))])]),a("el-form-item",{attrs:{label:"订单状态"}},[a("span",[e._v(e._s(t.row.desc))])])],1)]}}])}),a("el-table-column",{attrs:{label:"订单 ID",prop:"id"}}),a("el-table-column",{attrs:{label:"总价格",prop:"price"}}),a("el-table-column",{attrs:{label:"订单状态",prop:"desc"}})],1)],1)])],1)],1)},ce=[],me={data(){return{tableData5:[{id:"12987122",name:"13232103502",category:"上海市青浦区朱家角镇美周路",desc:"等待支付",address:"上海市普陀区真北路",shop:"寿司工坊",shopId:"10333",price:"17850"},{id:"12987123",name:"13032120652",category:"上海市青浦区朱家角镇美周路",desc:"支付超时",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333",price:"13550"},{id:"12987125",name:"13032120652",category:"上海市青浦区朱家角镇美周路",desc:"支付成功",address:"上海市普陀区真北路",shop:"王小虎店",shopId:"10333",price:"24750"},{id:"12987126",name:"13032120652",category:"上海市青浦区朱家角镇美周路",desc:"等待支付",address:"上海市普陀区真北路",shop:"水果店",shopId:"10333",price:"15300"}]}},components:{headTop:O},created(){},mounted(){},methods:{}},de=me,ue=(a("ab34"),Object(n["a"])(de,ne,ce,!1,null,"da157cb4",null)),pe=ue.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"adminList"},[a("head-top"),a("el-main",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("商家列表")])]),a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData3,height:"250",border:""}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"date",label:"注册日期",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),a("el-table-column",{attrs:{prop:"limits",label:"权限"}})],1)],1)])],1)],1)},be=[],he={data(){return{tableData3:[{date:"2019-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",limits:"管理员"},{date:"2019-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",limits:"管理员"},{date:"2019-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",limits:"管理员"},{date:"2019-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",limits:"管理员"},{date:"2019-05-08",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",limits:"管理员"},{date:"2019-05-06",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",limits:"管理员"},{date:"2019-05-07",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄",limits:"管理员"}]}},components:{headTop:O},methods:{}},ve=he,ge=(a("140b"),Object(n["a"])(ve,fe,be,!1,null,"2b83672c",null)),_e=ge.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:12,offset:4}},[a("el-form",{ref:"formData",staticClass:"demo-formData",attrs:{model:e.formData,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"店铺名称",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[a("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入地址"},on:{select:e.addressSelect},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}}),a("span",[e._v("当前城市："+e._s(e.city.name))])],1),a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{maxLength:"11"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",e._n(t))},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{label:"店铺简介",prop:"description"}},[a("el-input",{model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),a("el-form-item",{attrs:{label:"店铺标语",prop:"promotion_info"}},[a("el-input",{model:{value:e.formData.promotion_info,callback:function(t){e.$set(e.formData,"promotion_info",t)},expression:"formData.promotion_info"}})],1),a("el-form-item",{attrs:{label:"店铺分类"}},[a("el-cascader",{attrs:{options:e.categoryOptions,"change-on-select":""},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}})],1),a("el-form-item",{staticStyle:{"white-space":"nowrap"},attrs:{label:"店铺特点"}},[a("span",[e._v("品牌保证")]),a("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.formData.is_premium,callback:function(t){e.$set(e.formData,"is_premium",t)},expression:"formData.is_premium"}}),a("span",[e._v("蜂鸟专送")]),a("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.formData.delivery_mode,callback:function(t){e.$set(e.formData,"delivery_mode",t)},expression:"formData.delivery_mode"}}),a("span",[e._v("新开店铺")]),a("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.formData.new,callback:function(t){e.$set(e.formData,"new",t)},expression:"formData.new"}})],1),a("el-form-item",{staticStyle:{"white-space":"nowrap"}},[a("span",[e._v("外卖保")]),a("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.formData.bao,callback:function(t){e.$set(e.formData,"bao",t)},expression:"formData.bao"}}),a("span",[e._v("准时达")]),a("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.formData.zhun,callback:function(t){e.$set(e.formData,"zhun",t)},expression:"formData.zhun"}}),a("span",[e._v("开发票")]),a("el-switch",{attrs:{"on-text":"","off-text":""},model:{value:e.formData.piao,callback:function(t){e.$set(e.formData,"piao",t)},expression:"formData.piao"}})],1),a("el-form-item",{attrs:{label:"配送费",prop:"float_delivery_fee"}},[a("el-input-number",{attrs:{min:0,max:20},model:{value:e.formData.float_delivery_fee,callback:function(t){e.$set(e.formData,"float_delivery_fee",t)},expression:"formData.float_delivery_fee"}})],1),a("el-form-item",{attrs:{label:"起送价",prop:"float_minimum_order_amount"}},[a("el-input-number",{attrs:{min:0,max:100},model:{value:e.formData.float_minimum_order_amount,callback:function(t){e.$set(e.formData,"float_minimum_order_amount",t)},expression:"formData.float_minimum_order_amount"}})],1),a("el-form-item",{staticStyle:{"white-space":"nowrap"},attrs:{label:"营业时间"}},[a("el-time-select",{attrs:{placeholder:"起始时间","picker-options":{start:"05:30",step:"00:15",end:"23:30"}},model:{value:e.formData.startTime,callback:function(t){e.$set(e.formData,"startTime",t)},expression:"formData.startTime"}}),a("el-time-select",{attrs:{placeholder:"结束时间","picker-options":{start:"05:30",step:"00:15",end:"23:30",minTime:e.formData.startTime}},model:{value:e.formData.endTime,callback:function(t){e.$set(e.formData,"endTime",t)},expression:"formData.endTime"}})],1),a("el-form-item",{attrs:{label:"上传店铺头像"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.baseUrl+"/v1/addimg/shop","show-file-list":!1,"on-success":e.handleShopAvatarScucess,"before-upload":e.beforeAvatarUpload}},[e.formData.image_path?a("img",{staticClass:"avatar",attrs:{src:e.baseImgPath+e.formData.image_path}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"上传营业执照"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.baseUrl+"/v1/addimg/shop","show-file-list":!1,"on-success":e.handleBusinessAvatarScucess,"before-upload":e.beforeAvatarUpload}},[e.formData.business_license_image?a("img",{staticClass:"avatar",attrs:{src:e.baseImgPath+e.formData.business_license_image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"上传餐饮服务许可证"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.baseUrl+"/v1/addimg/shop","show-file-list":!1,"on-success":e.handleServiceAvatarScucess,"before-upload":e.beforeAvatarUpload}},[e.formData.catering_service_license_image?a("img",{staticClass:"avatar",attrs:{src:e.baseImgPath+e.formData.catering_service_license_image}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"优惠活动"}},[a("el-select",{attrs:{placeholder:e.activityValue},on:{change:e.selectActivity},model:{value:e.activityValue,callback:function(t){e.activityValue=t},expression:"activityValue"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-table",{staticStyle:{"min-width":"600px","margin-bottom":"20px"},attrs:{data:e.activities,align:"cneter","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"icon_name",label:"活动标题",align:"cneter",width:"120"}}),a("el-table-column",{attrs:{prop:"name",label:"活动名称",align:"cneter",width:"120"}}),a("el-table-column",{attrs:{prop:"description",align:"cneter",label:"活动详情"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index)}}},[e._v("删除")])]}}])})],1),a("el-form-item",{staticClass:"button_submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formData")}}},[e._v("立即创建")])],1)],1)],1)],1)],1)},xe=[],we={data(){return{city:{},formData:{name:"",address:"",latitude:"",longitude:"",description:"",phone:"",promotion_info:"",float_delivery_fee:5,float_minimum_order_amount:20,is_premium:!0,delivery_mode:!0,new:!0,bao:!0,zhun:!0,piao:!0,startTime:"",endTime:"",image_path:"",business_license_image:"",catering_service_license_image:""},rules:{name:[{required:!0,message:"请输入店铺名称",trigger:"blur"}],address:[{required:!0,message:"请输入详细地址",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话"},{type:"number",message:"电话号码必须是数字"}]},options:[{value:"满减优惠",label:"满减优惠"},{value:"优惠大酬宾",label:"优惠大酬宾"},{value:"新用户立减",label:"新用户立减"},{value:"进店领券",label:"进店领券"}],activityValue:"满减优惠",activities:[{icon_name:"减",name:"满减优惠",description:"满30减5，满60减8"}],categoryOptions:[],selectedCategory:["快餐便当","简餐"]}},components:{headTop:O},mounted(){this.initData()},methods:{async initData(){try{this.city=await cityGuess();const t=await foodCategory();t.forEach(e=>{if(e.sub_categories.length){const t={value:e.name,label:e.name,children:[]};e.sub_categories.forEach((e,a)=>{0!=a&&t.children.push({value:e.name,label:e.name})}),this.categoryOptions.push(t)}})}catch(e){console.log(e)}},async querySearchAsync(e,t){if(e)try{const s=await searchplace(this.city.id,e);s instanceof Array&&(s.map(e=>{return e.value=e.address,e}),t(s))}catch(a){console.log(a)}},addressSelect(e){this.formData.latitude=e.latitude,this.formData.longitude=e.longitude,console.log(this.formData.latitude,this.formData.longitude)},handleShopAvatarScucess(e,t){1==e.status?this.formData.image_path=e.image_path:this.$message.error("上传图片失败！")},handleBusinessAvatarScucess(e,t){1==e.status?this.formData.business_license_image=e.image_path:this.$message.error("上传图片失败！")},handleServiceAvatarScucess(e,t){1==e.status?this.formData.catering_service_license_image=e.image_path:this.$message.error("上传图片失败！")},beforeAvatarUpload(e){const t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},tableRowClassName(e,t){return 1===t?"info-row":3===t?"positive-row":""},selectActivity(){this.$prompt("请输入活动详情","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e})=>{if(null==e)return void this.$message({type:"info",message:"请输入活动详情"});let t={};switch(this.activityValue){case"满减优惠":t={icon_name:"减",name:"满减优惠",description:e};break;case"优惠大酬宾":t={icon_name:"特",name:"优惠大酬宾",description:e};break;case"新用户立减":t={icon_name:"新",name:"新用户立减",description:e};break;case"进店领券":t={icon_name:"领",name:"进店领券",description:e};break}this.activities.push(t)}).catch(()=>{this.$message({type:"info",message:"取消输入"})})},handleDelete(e){this.activities.splice(e,1)},submitForm(e){this.$refs[e].validate(async e=>{if(!e)return this.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),!1;Object.assign(this.formData,{activities:this.activities},{category:this.selectedCategory.join("/")});try{let e=await addShop(this.formData);1==e.status?(this.$message({type:"success",message:"添加成功"}),this.formData={name:"",address:"",latitude:"",longitude:"",description:"",phone:"",promotion_info:"",float_delivery_fee:5,float_minimum_order_amount:20,is_premium:!0,delivery_mode:!0,new:!0,bao:!0,zhun:!0,piao:!0,startTime:"",endTime:"",image_path:"",business_license_image:"",catering_service_license_image:""},this.selectedCategory=["快餐便当","简餐"],this.activities=[{icon_name:"减",name:"满减优惠",description:"满30减5，满60减8"}]):this.$message({type:"error",message:e.message}),console.log(e)}catch(t){console.log(t)}})}}},Ce=we,Fe=(a("a681"),Object(n["a"])(Ce,ye,xe,!1,null,null,null)),De=Fe.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:14,offset:4}},[a("header",{staticClass:"form_header"},[e._v("选择食品种类")]),a("el-form",{ref:"categoryForm",staticClass:"form",attrs:{model:e.categoryForm,"label-width":"110px"}},[a("el-row",{staticClass:"category_select"},[a("el-form-item",{attrs:{label:"食品种类"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.selectValue.label},model:{value:e.categoryForm.categorySelect,callback:function(t){e.$set(e.categoryForm,"categorySelect",t)},expression:"categoryForm.categorySelect"}},e._l(e.categoryForm.categoryList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),a("el-row",{staticClass:"add_category_row",class:e.showAddCategory?"showEdit":""},[a("div",{staticClass:"add_category"},[a("el-form-item",{attrs:{label:"食品种类",prop:"name"}},[a("el-input",{model:{value:e.categoryForm.name,callback:function(t){e.$set(e.categoryForm,"name",t)},expression:"categoryForm.name"}})],1),a("el-form-item",{attrs:{label:"种类描述",prop:"description"}},[a("el-input",{model:{value:e.categoryForm.description,callback:function(t){e.$set(e.categoryForm,"description",t)},expression:"categoryForm.description"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitcategoryForm("categoryForm")}}},[e._v("提交")])],1)],1)]),a("div",{staticClass:"add_category_button",on:{click:e.addCategoryFun}},[e.showAddCategory?a("i",{staticClass:"el-icon-caret-top edit_icon"}):a("i",{staticClass:"el-icon-caret-bottom edit_icon",attrs:{slot:"icon"},slot:"icon"}),a("span",[e._v("添加食品种类")])])],1),a("header",{staticClass:"form_header"},[e._v("添加食品")]),a("el-form",{ref:"foodForm",staticClass:"form food_form",attrs:{model:e.foodForm,rules:e.foodrules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"食品名称",prop:"name"}},[a("el-input",{model:{value:e.foodForm.name,callback:function(t){e.$set(e.foodForm,"name",t)},expression:"foodForm.name"}})],1),a("el-form-item",{attrs:{label:"食品活动",prop:"activity"}},[a("el-input",{model:{value:e.foodForm.activity,callback:function(t){e.$set(e.foodForm,"activity",t)},expression:"foodForm.activity"}})],1),a("el-form-item",{attrs:{label:"食品详情",prop:"description"}},[a("el-input",{model:{value:e.foodForm.description,callback:function(t){e.$set(e.foodForm,"description",t)},expression:"foodForm.description"}})],1),a("el-form-item",{attrs:{label:"上传食品图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.baseUrl+"/v1/addimg/food","show-file-list":!1,"on-success":e.uploadImg,"before-upload":e.beforeImgUpload}},[e.foodForm.image_path?a("img",{staticClass:"avatar",attrs:{src:e.baseImgPath+e.foodForm.image_path}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("el-form-item",{attrs:{label:"食品特点"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.foodForm.attributes,callback:function(t){e.$set(e.foodForm,"attributes",t)},expression:"foodForm.attributes"}},e._l(e.attributes,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),a("el-form-item",{attrs:{label:"食品规格"}},[a("el-radio",{staticClass:"radio",attrs:{label:"one"},model:{value:e.foodSpecs,callback:function(t){e.foodSpecs=t},expression:"foodSpecs"}},[e._v("单规格")]),a("el-radio",{staticClass:"radio",attrs:{label:"more"},model:{value:e.foodSpecs,callback:function(t){e.foodSpecs=t},expression:"foodSpecs"}},[e._v("多规格")])],1),"one"==e.foodSpecs?a("el-row",[a("el-form-item",{attrs:{label:"包装费"}},[a("el-input-number",{attrs:{min:0,max:100},model:{value:e.foodForm.specs[0].packing_fee,callback:function(t){e.$set(e.foodForm.specs[0],"packing_fee",t)},expression:"foodForm.specs[0].packing_fee"}})],1),a("el-form-item",{attrs:{label:"价格"}},[a("el-input-number",{attrs:{min:0,max:1e4},model:{value:e.foodForm.specs[0].price,callback:function(t){e.$set(e.foodForm.specs[0],"price",t)},expression:"foodForm.specs[0].price"}})],1)],1):a("el-row",{staticStyle:{overflow:"auto","text-align":"center"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加规格")]),a("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:e.foodForm.specs,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"specs",label:"规格"}}),a("el-table-column",{attrs:{prop:"packing_fee",label:"包装费"}}),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index)}}},[e._v("删除")])]}}])})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addFood("foodForm")}}},[e._v("确认添加食品")])],1)],1),a("el-dialog",{attrs:{title:"添加规格"},model:{value:e.dialogFormVisible,callback:function(t){e.dialogFormVisible=t},expression:"dialogFormVisible"}},[a("el-form",{attrs:{rules:e.specsFormrules,model:e.specsForm}},[a("el-form-item",{attrs:{label:"规格","label-width":"100px",prop:"specs"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.specsForm.specs,callback:function(t){e.$set(e.specsForm,"specs",t)},expression:"specsForm.specs"}})],1),a("el-form-item",{attrs:{label:"包装费","label-width":"100px"}},[a("el-input-number",{attrs:{min:0,max:100},model:{value:e.specsForm.packing_fee,callback:function(t){e.$set(e.specsForm,"packing_fee",t)},expression:"specsForm.packing_fee"}})],1),a("el-form-item",{attrs:{label:"价格","label-width":"100px"}},[a("el-input-number",{attrs:{min:0,max:1e4},model:{value:e.specsForm.price,callback:function(t){e.$set(e.specsForm,"price",t)},expression:"specsForm.price"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addspecs}},[e._v("确 定")])],1)],1)],1)],1)],1)},$e=[],Se={data(){return{restaurant_id:1,categoryForm:{categoryList:[],categorySelect:"",name:"",description:""},foodForm:{name:"",description:"",image_path:"",activity:"",attributes:[],specs:[{specs:"默认",packing_fee:0,price:20}]},foodrules:{name:[{required:!0,message:"请输入食品名称",trigger:"blur"}]},attributes:[{value:"新",label:"新品"},{value:"招牌",label:"招牌"}],showAddCategory:!1,foodSpecs:"one",dialogFormVisible:!1,specsForm:{specs:"",packing_fee:0,price:20},specsFormrules:{specs:[{required:!0,message:"请输入规格",trigger:"blur"}]}}},components:{headTop:O},created(){this.$route.query.restaurant_id?this.restaurant_id=this.$route.query.restaurant_id:this.restaurant_id=Math.ceil(10*Math.random()),this.initData()},computed:{selectValue:function(){return this.categoryForm.categoryList[this.categoryForm.categorySelect]||{}}},methods:{async initData(){try{const t=await getCategory(this.restaurant_id);1==t.status?(t.category_list.map((e,t)=>{e.value=t,e.label=e.name}),this.categoryForm.categoryList=t.category_list):console.log(t)}catch(e){console.log(e)}},addCategoryFun(){this.showAddCategory=!this.showAddCategory},submitcategoryForm(e){this.$refs[e].validate(async e=>{if(!e)return this.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),!1;{const e={name:this.categoryForm.name,description:this.categoryForm.description,restaurant_id:this.restaurant_id};try{const a=await addCategory(e);1==a.status&&(this.initData(),this.categoryForm.name="",this.categoryForm.description="",this.showAddCategory=!1,this.$message({type:"success",message:"添加成功"}))}catch(t){console.log(t)}}})},uploadImg(e,t){1==e.status?this.foodForm.image_path=e.image_path:this.$message.error("上传图片失败！")},beforeImgUpload(e){const t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a},addspecs(){this.foodForm.specs.push({...this.specsForm}),this.specsForm.specs="",this.specsForm.packing_fee=0,this.specsForm.price=20,this.dialogFormVisible=!1},handleDelete(e){this.foodForm.specs.splice(e,1)},tableRowClassName(e,t){return 1===t?"info-row":3===t?"positive-row":""},addFood(e){this.$refs[e].validate(async e=>{if(!e)return this.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),!1;{const e={...this.foodForm,category_id:this.selectValue.id,restaurant_id:this.restaurant_id};try{const a=await addFood(e);1==a.status?(console.log(a),this.$message({type:"success",message:"添加成功"}),this.foodForm={name:"",description:"",image_path:"",activity:"",attributes:[],specs:[{specs:"默认",packing_fee:0,price:20}]}):this.$message({type:"error",message:a.message})}catch(t){console.log(t)}}})}}},Te=Se,Ee=(a("8fd8"),Object(n["a"])(Te,ke,$e,!1,null,null,null)),Oe=Ee.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),a("visitor-pie")],1)},Ve=[],Ie=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},je=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"pie"},[a("div",{attrs:{id:"pie1"}},[a("div",{staticStyle:{float:"left",width:"100%",height:"450px"},attrs:{id:"main1"}})]),a("div",{attrs:{id:"pie2"}},[a("div",{staticStyle:{float:"left",width:"100%",height:"450px"},attrs:{id:"main2"}})])])])}];let Ae=a("bac0");a("f4af"),a("9aca"),a("2ad9");var qe={created(){},mounted(){this.initData()},methods:{initData(){var e=Ae.init(document.getElementById("main1"));e.setOption({title:{text:"用户分布",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",bottom:"bottom",data:["北京","上海","深圳","杭州","其他"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"北京"},{value:310,name:"上海"},{value:234,name:"深圳"},{value:135,name:"杭州"},{value:1548,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},Pe=qe,ze=(a("0b26"),Object(n["a"])(Pe,Ie,je,!1,null,null,null)),Ue=ze.exports,Be={data(){return{}},components:{headTop:O,visitorPie:Ue}},Ge=Be,Me=(a("6434"),Object(n["a"])(Ge,Le,Ve,!1,null,null,null)),We=Me.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),a("div",{staticClass:"edit_container"},[a("quill-editor",{ref:"myQuillEditor",staticClass:"editer",attrs:{options:e.editorOption},on:{ready:function(t){return e.onEditorReady(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),a("div",{staticClass:"submit_btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)},Je=[],Ne=a("b881"),Qe=(a("3040"),a("cac2"),a("1e58"),{data(){return{content:"<h3>文本编辑</h3>",editorOption:{}}},components:{headTop:O,quillEditor:Ne["quillEditor"]},computed:{editor(){return this.$refs.myQuillEditor.quill}},methods:{onEditorReady(e){console.log("editor ready!",e)},submit(){console.log(this.content),this.$message.success("提交成功！")}}}),Xe=Qe,Ze=(a("78f6"),Object(n["a"])(Xe,Re,Je,!1,null,null,null)),He=Ze.exports,Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fillcontain"},[s("head-top"),s("header",{staticClass:"admin_title"},[e._v("管理员信息")]),s("div",{staticClass:"admin_set"},[s("ul",[e._m(0),e._m(1),e._m(2),e._m(3),s("li",[s("span",[e._v("更换头像：")]),s("el-upload",{staticClass:"avatar-uploader"},[e._v("8989\n                  "),s("img",{staticClass:"avatar",attrs:{src:a("38f3")}})])],1)])])],1)},Ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",[e._v("姓名：")]),a("span",[e._v("王小虎")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",[e._v("注册时间：")]),a("span",[e._v("2019-07-11")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",[e._v("管理员权限：")]),a("span",[e._v("管理员")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",[e._v("管理员 ID：")]),a("span",[e._v("3134")])])}],et={data(){return{}},components:{headTop:O},methods:{uploadImg(e,t){1==e.status?this.avatar=e.image_path:this.$message.error("上传图片失败！")},beforeImgUpload(e){const t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),a||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&a}}},tt=et,at=(a("3820"),Object(n["a"])(tt,Ke,Ye,!1,null,null,null)),st=at.exports,ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("head-top"),a("p",{staticClass:"explain_text"},[e._v("node-elm后台管理系统")]),a("p",{staticClass:"explain_text"},[e._v("第一次登录的用户自动注册成为普通管理员")]),a("p",{staticClass:"explain_text"},[e._v("普通管理员可以添加，修改信息")]),a("p",{staticClass:"explain_text"},[e._v("超级管理员可以删除信息")])],1)},rt=[],lt={components:{headTop:O}},it=lt,nt=(a("da88"),Object(n["a"])(it,ot,rt,!1,null,null,null)),ct=nt.exports;s["default"].use(d["a"]);var mt=new d["a"]({base:"",routes:[{path:"/",name:"login",component:C},{path:"/manage",name:"",component:v,children:[{path:"",name:"home",component:M,meta:[]},{path:"/userList",name:"userList",component:X,meta:["数据管理","用户列表"]},{path:"/shopList",name:"shopList",component:te,meta:["数据管理","商家列表"]},{path:"/foodList",name:"foodList",component:ie,meta:["数据管理","食品列表"]},{path:"/orderList",name:"orderList",component:pe,meta:["数据管理","订单列表"]},{path:"/adminList",name:"adminList",component:_e,meta:["数据管理","管理员列表"]},{path:"/addShop",name:"addShop",component:De,meta:["数据管理","添加商铺"]},{path:"/addGoods",name:"addGoods",component:Oe,meta:["数据管理","添加商品"]},{path:"/visitor",name:"visitor",component:We,meta:["数据管理","用户分布"]},{path:"/vueEdit",name:"vueEdit",component:He,meta:["数据管理","文本编辑"]},{path:"/adminSet",name:"adminSet",component:st,meta:["数据管理","管理员设置"]},{path:"/explain",name:"explain",component:ct,meta:["数据管理","说明"]}]}]}),dt=a("2f62");s["default"].use(dt["a"]);var ut=new dt["a"].Store({state:{},mutations:{},actions:{}}),pt=a("20ad"),ft=a.n(pt);a("8720"),a("974d");s["default"].config.productionTip=!1,s["default"].use(ft.a),new s["default"]({router:mt,store:ut,render:e=>e(m)}).$mount("#app")},6434:function(e,t,a){"use strict";var s=a("432a"),o=a.n(s);o.a},"6c92":function(e,t,a){"use strict";var s=a("289c"),o=a.n(s);o.a},"6e2a":function(e,t,a){"use strict";var s=a("7f68"),o=a.n(s);o.a},"6e85":function(e,t,a){"use strict";var s=a("dc0a"),o=a.n(s);o.a},"78f6":function(e,t,a){"use strict";var s=a("b3d3"),o=a.n(s);o.a},"7c55":function(e,t,a){"use strict";var s=a("e8be"),o=a.n(s);o.a},"7f68":function(e,t,a){},"88c2":function(e,t,a){},"8c3b":function(e,t,a){},"8ef2":function(e,t,a){},"8fd8":function(e,t,a){"use strict";var s=a("e381"),o=a.n(s);o.a},9494:function(e,t,a){"use strict";var s=a("301d"),o=a.n(s);o.a},"974d":function(e,t,a){},a619:function(e,t,a){"use strict";var s=a("ed65"),o=a.n(s);o.a},a681:function(e,t,a){"use strict";var s=a("8c3b"),o=a.n(s);o.a},ab34:function(e,t,a){"use strict";var s=a("f54a"),o=a.n(s);o.a},b3d3:function(e,t,a){},bdaa:function(e,t,a){"use strict";var s=a("3b1a"),o=a.n(s);o.a},c3b7:function(e,t,a){},d32e:function(e,t,a){"use strict";var s=a("110c"),o=a.n(s);o.a},da88:function(e,t,a){"use strict";var s=a("c3b7"),o=a.n(s);o.a},dc0a:function(e,t,a){},e381:function(e,t,a){},e8be:function(e,t,a){},ed65:function(e,t,a){},f54a:function(e,t,a){}});
//# sourceMappingURL=app.8da725f9.js.map